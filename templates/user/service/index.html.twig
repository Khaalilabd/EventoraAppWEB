<html class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>{% block title %}eventora{% endblock %}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'><text y='1.2em' font-size='96'>⚫️</text><text y='1.3em' x='0.2em' font-size='76' fill='%23fff'>sf</text></svg>">

        {% block stylesheets %}
            <link href="https://fonts.googleapis.com/css?family=Work+Sans:400,300,600,400italic,700" rel="stylesheet" type="text/css">
            <link href="https://fonts.googleapis.com/css?family=Sacramento" rel="stylesheet">
            <!-- Animate.css -->
            <link rel="stylesheet" href="{{ asset('css/animate.css') }}">
            <!-- Icomoon Icon Fonts -->
            <link rel="stylesheet" href="{{ asset('css/icomoon.css') }}">
            <!-- Bootstrap -->
            <link rel="stylesheet" href="{{ asset('css/bootstrap.css') }}">
            <!-- Magnific Popup -->
            <link rel="stylesheet" href="{{ asset('css/magnific-popup.css') }}">
            <!-- Owl Carousel -->
            <link rel="stylesheet" href="{{ asset('css/owl.carousel.min.css') }}">
            <link rel="stylesheet" href="{{ asset('css/owl.theme.default.min.css') }}">
            <!-- Theme style -->
            <link rel="stylesheet" href="{{ asset('css/style1.css') }}">
            <!-- Navbar -->
            <link rel="stylesheet" href="{{ asset('css/navbar.css') }}">
             <!-- header -->
             <link rel="stylesheet" href="{{ asset('css/header_service.css') }}">
            <!-- Fonts for card hover effect -->
            <link href="https://fonts.googleapis.com/css?family=Raleway:400,500,700|Playfair+Display:700" rel="stylesheet">
            <style>
                
                /* Styles for services section */
                .services-intro {
    text-align: center;
    padding: 40px 20px;
    background: linear-gradient(180deg, #f8fafc, #ffffff);
    border-radius: 16px;
    margin: 0 auto 32px;
    max-width: 1200px;
}

.intro-title {
    font-size: 2.5rem;
    font-weight: 700;
    color: #1a202c;
    margin-bottom: 16px;
    animation: fadeIn 1s ease-in-out;
}

.intro-text {
    font-size: 1.2rem;
    color: #4a5568;
    max-width: 800px;
    margin: 0 auto;
    animation: fadeIn 1.5s ease-in-out;
}

.card-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 28px;
    padding: 40px;
    max-width: 1440px;
    margin: 0 auto;
}

.card {
    width: 100%;
    height: 450px;
    perspective: 1400px;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 10px 28px rgba(0, 0, 0, 0.12);
    transition: transform 0.4s ease, box-shadow 0.4s ease;
    
}

.card:hover {
    transform: translateY(-10px);
    box-shadow: 0 16px 40px rgba(0, 0, 0, 0.18);
}

.service-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 12px;
    transition: transform 0.5s ease;
}

.content {
    position: relative;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    transition: transform 0.9s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    border-radius: 20px;
}

.card:hover .content {
    transform: rotateY(180deg);
}

.front {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(145deg, #ffffff, #f7fafc);
    border-radius: 20px;
    padding: 28px;
    display: flex;
    flex-direction: column;
    backface-visibility: hidden;
    transform: rotateY(0deg);
}

.back {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(145deg, #f7fafc, #ffffff);
    color: #1a202c;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border-radius: 20px;
    backface-visibility: hidden;
    transform: rotateY(180deg);
    padding: 28px;
    box-sizing: border-box;
}

.back-details {
    max-height: 200px;
    overflow-y: auto;
    text-align: left;
    font-size: 1rem;
    line-height: 1.7;
    scrollbar-width: thin;
    scrollbar-color: #4a90e2 #e2e8f0;
    transition: max-height 0.6s ease;
}

.back-details.expanded {
    max-height: 320px;
}

.back-details::-webkit-scrollbar {
    width: 8px;
}

.back-details::-webkit-scrollbar-track {
    background: #e2e8f0;
}

.back-details::-webkit-scrollbar-thumb {
    background: #4a90e2;
    border-radius: 4px;
}

.toggle-details {
    background: none;
    border: none;
    color: #4a90e2;
    font-size: 0.95rem;
    font-weight: 600;
    cursor: pointer;
    margin: 16px 0;
    text-decoration: none;
    transition: color 0.3s ease;
}

.toggle-details:hover {
    color: #2b6cb0;
}

.front-content {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    height: 100%;
}

.badges {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

.badge {
    font-size: 0.9rem;
    font-weight: 600;
    color: #ffffff;
    padding: 8px 14px;
    border-radius: 24px;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    transition: transform 0.3s ease;
}

.badge:hover {
    transform: scale(1.05);
}

.badge.location {
    background-color: #4a90e2;
}

.badge.type-service {
    background-color: #20c997;
}

.title {
    font-size: 1.6rem;
    font-weight: 700;
    color: #1a202c;
    margin: 14px 0;
}

.card-footer {
    font-size: 1.2rem;
    font-weight: 600;
    color: #2d3748;
    margin-top: auto;
}

.img {
    position: relative;
    overflow: hidden;
    border-radius: 12px;
    margin-bottom: 20px;
    height: 200px;
}

.card:hover .service-img {
    transform: scale(1.15);
}

.circle {
    position: absolute;
    background-color: #ff6b6b;
    border-radius: 50%;
    opacity: 0.35;
    transition: opacity 0.4s ease, transform 0.4s ease;
}

.circle#right {
    right: 12%;
    top: 12%;
    width: 45px;
    height: 45px;
}

.circle#bottom {
    bottom: 12%;
    left: 12%;
    width: 55px;
    height: 55px;
}

.card:hover .circle {
    opacity: 0.55;
    transform: scale(1.2);
}

.reserve-btn {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 12px 24px;
    background-color: #20c997;
    color: #ffffff;
    text-align: center;
    text-decoration: none;
    font-size: 1rem;
    font-weight: 600;
    border-radius: 10px;
    margin-top: 16px;
    transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
}

.reserve-btn:hover {
    background-color: #18a77b;
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.reserve-btn:active {
    transform: translateY(0);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@media (max-width: 768px) {
    .card-container {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        padding: 24px;
    }

    .card {
        height: 400px;
    }

    .title {
        font-size: 1.4rem;
    }

    .img {
        height: 180px;
    }

    .services-intro {
        padding: 32px 16px;
    }

    .intro-title {
        font-size: 2rem;
    }

    .intro-text {
        font-size: 1rem;
    }
}

@media (max-width: 480px) {
    .card {
        height: 360px;
    }

    .badge {
        font-size: 0.8rem;
        padding: 6px 10px;
    }

    .reserve-btn {
        font-size: 0.9rem;
        padding: 10px 18px;
    }

    .img {
        height: 160px;
    }
}
            </style>
        {% endblock %}

        <!-- Modernizr JS -->
        <script src="{{ asset('js/modernizr-2.6.2.min.js') }}"></script>
        <!-- FOR IE9 below -->
        <script src="{{ asset('js/respond.min.js') }}"></script>
        {% block javascripts_head %}{% endblock %}
    </head>
    <body>
        <div class="fh5co-loader"></div>
        {% block body %}
        <nav class="fh5co-nav" role="navigation">
            <div class="container">
                <div class="fh5co-logo">
                    <a href="{{ path('app_home') }}">Eventora</a>
                </div>
                <div class="menu-toggle">
                    <i class="icon-menu"></i>
                </div>
                <div class="menu-1">
                    <ul>
                        <li ><a href="{{ path('app_home') }}">Home</a></li>
                        <li class="has-dropdown">
                            <a href="#">Réservation</a>
                            <ul class="dropdown">
                                    <li><a href="{{ path('user_reservation_personnalise_new') }}">Reservation personnalisée</a></li>
                                    <li><a href="{{ path('user_reservation_pack_new') }}">Reservation Pack</a></li>
                                </ul>
                        </li>
                        <li class="has-dropdown">
                            <a href="{{ path('user_packs') }}">Packs</a>
                        </li>
                        <li class="has-dropdown">
                            <a href="#">Services</a>
                            <ul class="dropdown">
                                <li class="active"><a href="{{ path('user_services') }}">Service</a></li>
                                <li><a href="{{ path('user_sponsor') }}">Partenaire</a></li>
                            </ul>
                        </li>
                        <li><a href="{{ path('app_reclamation_new') }}">Reclamation</a></li>
                        <li><a href="{{ path('app_feedback_new') }}">Feedback</a></li>
                        <li><a href="">Talk with Evi</a></li>
                        <li class="has-dropdown">
                            <a href="#">
                                <span class="user-circle">
                                    {% if app.user and app.user.image %}
                                        <img src="{{ asset('Uploads/images/' ~ app.user.image) }}" alt="Profile">
                                    {% else %}
                                        <i class="icon-user"></i>
                                    {% endif %}
                                </span>
                                Contact
                            </a>
                            <ul class="dropdown">
                                {% if app.user %}
                                    <li><a href="{{ path('app_settings') }}">Paramètres</a></li>
                                    <li><a href="{{ path('app_home') }}">Notifications</a></li>
                                    <li><a href="{{ path('app_home') }}">Historique</a></li>
                                    {% if is_granted('ROLE_ADMIN') %}
                                        <li><a href="{{ path('admin_dashboard') }}">Dashboard</a></li>
                                    {% endif %}
                                    <li><a href="{{ path('app_logout') }}">Déconnexion</a></li>
                                {% else %}
                                    <li><a href="{{ path('app_auth') }}">Connexion</a></li>
                                    <li><a href="{{ path('app_auth') }}">Inscription</a></li>
                                {% endif %}
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div id="page">
            <header id="fh5co-header" class="fh5co-cover" role="banner">
                <div id="app" class="container">
                    <card data-image="https://i.pinimg.com/474x/15/49/c6/1549c6e76659befe1795734071a36ea7.jpg">
                        <h1 slot="header">Decoration</h1>
                        <p slot="content">Notre service de décoration transforme vos espaces avec élégance et créativité. Que ce soit pour votre maison, bureau ou événement, nous concevons des ambiances uniques, adaptées à vos goûts et besoins. Faites confiance à notre expertise pour sublimer chaque détail !</p>
                    </card>
                    <card data-image="https://i.pinimg.com/736x/1e/92/c4/1e92c41b988484af5a080b0eba820538.jpg">
                        <h1 slot="header">Lumiere</h1>
                        <p slot="content">Notre service met la lumière au cœur de vos espaces. Avec des solutions d’éclairage sur mesure, nous créons des ambiances chaleureuses et modernes, jouant sur l’intensité, les couleurs et le design pour sublimer chaque pièce ou événement. Laissez vos espaces briller d’élégance !</p>
                    </card>
                    <card data-image="https://i.pinimg.com/474x/25/6e/75/256e75cd9f5e71cad09b060871e0e51b.jpg">
                        <h1 slot="header">Sono</h1>
                        <p slot="content">Notre service intègre le son pour sublimer vos espaces. Avec des systèmes audio soigneusement sélectionnés, nous créons des ambiances sonores immersives, harmonisées à votre style et vos événements. Du design discret à la qualité exceptionnelle, laissez le son magnifier chaque instant !</p>
                    </card>
                    <card data-image="https://i.pinimg.com/474x/af/99/37/af9937a06d9e315b1de6edf673bdba62.jpg">
                        <h1 slot="header">Traiteur</h1>
                        <p slot="content">Notre service de traiteur apporte une touche savoureuse à vos événements. Avec des menus raffinés et personnalisés, nous marions saveurs, élégance et créativité pour ravir vos convives. Du cocktail à la réception, chaque plat est une expérience culinaire qui sublime votre occasion !</p>
                    </card>
                    <card data-image="https://i.pinimg.com/474x/f0/58/e6/f058e6c75153040684804fec0528e588.jpg">
                        <h1 slot="header">Fleuriste</h1>
                        <p slot="content">Notre service de fleuriste embellit vos espaces et événements avec des créations florales uniques. Des bouquets élégants aux arrangements sur mesure, nous apportons couleur, fraîcheur et poésie à chaque occasion. Laissez nos fleurs sublimer vos moments avec charme et raffinement !</p>
                    </card>
                </div>
            </header>
            <section id="services-section">
    <div class="services-intro" data-aos="fade-in">
        <h2 class="intro-title">Nos Services d'Exception</h2>
        <p class="intro-text">Découvrez nos prestations sur mesure pour sublimer vos espaces et événements avec élégance et créativité.</p>
    </div>
    <div class="card-container">
        {% for service in GServices %}
            <div class="card" data-aos="fade-up" data-aos-delay="{{ loop.index0 * 100 }}" role="article" aria-labelledby="service-title-{{ service.id }}">
                <div class="content">
                    <div class="back">
                        <div class="back-content">
                            <div class="back-details" id="service-description-{{ service.id }}">
                                <p><strong>Description:</strong> {{ service.description }}</p>
                            </div>
                            <button class="toggle-details" aria-controls="service-description-{{ service.id }}" aria-expanded="false">Voir plus</button>
                            </button>
                        </div>
                    </div>
                    <div class="front">
                        <div class="img">
                            <img src="{{ asset(service.image) }}" alt="Image de {{ service.titre }}" class="service-img" loading="lazy">
                            <div class="circle" id="right"></div>
                            <div class="circle" id="bottom"></div>
                        </div>
                        <div class="front-content">
                            <div class="badges">
                                <small class="badge location"><i class="fas fa-map-marker-alt"></i> {{ service.location }}</small>
                                <small class="badge type-service"><i class="fas fa-concierge-bell"></i> {{ service.type_service }}</small>
                            </div>
                            <div class="description">
                                <div class="title">
                                    <p class="title" id="service-title-{{ service.id }}"><strong>{{ service.titre }}</strong></p>
                                </div>
                                <p class="card-footer">{{ service.prix }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</section>
        </div>
        {% endblock %}
        {% block javascripts %}
            <!-- Charger d'abord jQuery -->
            <script src="{{ asset('js/jquery.min.js') }}"></script>
            <!-- Ensuite, Waypoints.js -->
            <script src="https://cdn.jsdelivr.net/npm/waypoints@4.0.1/lib/jquery.waypoints.min.js"></script>
            <!-- Ensuite Stellar.js -->
            <script src="{{ asset('js/jquery.stellar.min.js') }}"></script>
            <!-- Ensuite les autres scripts -->
            <script src="{{ asset('js/bootstrap.min.js') }}"></script>
            <script src="{{ asset('js/owl.carousel.min.js') }}"></script>
            <script src="{{ asset('js/jquery.magnific-popup.min.js') }}"></script>
            <script src="{{ asset('js/simplyCountdown.js') }}"></script>
            <script src="{{ asset('js/main.js') }}"></script>
            <!-- Vue.js for card hover effect -->
            <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script>
            <script>
                var eventDate = new Date('2025-12-31'); // Date mise à jour dynamiquement
                simplyCountdown('.simply-countdown-one', {
                    year: eventDate.getFullYear(),
                    month: eventDate.getMonth() + 1,
                    day: eventDate.getDate(),
                    enableUtc: false
                });

                document.addEventListener('DOMContentLoaded', () => {
                    try {
                        const toggleButtons = document.querySelectorAll('.toggle-details');
                        
                        toggleButtons.forEach(button => {
                            const details = button.closest('.back-content').querySelector('.back-details');
                            if (!details) {
                                console.warn('No back-details element found for toggle button:', button);
                                return;
                            }
                
                            button.addEventListener('click', () => {
                                const isExpanded = details.classList.toggle('expanded');
                                button.setAttribute('aria-expanded', isExpanded);
                                button.textContent = isExpanded ? 'Voir moins' : 'Voir plus';
                                
                                // Smooth scroll to top of details when expanding
                                if (isExpanded) {
                                    details.scrollTop = 0;
                                }
                            });
                        });
                
                        // Add focus management for accessibility
                        document.querySelectorAll('.card').forEach(card => {
                            card.addEventListener('keydown', (e) => {
                                if (e.key === 'Enter' || e.key === ' ') {
                                    e.preventDefault();
                                    card.querySelector('.reserve-btn')?.focus();
                                }
                            });
                        });
                
                        // Lazy load AOS animations
                        if (typeof AOS !== 'undefined') {
                            AOS.init({
                                duration: 800,
                                once: true,
                                offset: 100
                            });
                        }
                    } catch (error) {
                        console.error('Error initializing service cards:', error);
                    }
                });

                // Vue.js Card Hover Effect
                Vue.config.devtools = true;

                Vue.component('card', {
                    template: `
                        <div class="card-wrap"
                            @mousemove="handleMouseMove"
                            @mouseenter="handleMouseEnter"
                            @mouseleave="handleMouseLeave"
                            ref="card">
                            <div class="card"
                                :style="cardStyle">
                                <div class="card-bg" :style="[cardBgTransform, cardBgImage]"></div>
                                <div class="card-info">
                                    <slot name="header"></slot>
                                    <slot name="content"></slot>
                                </div>
                            </div>
                        </div>`,
                    mounted() {
                        this.width = this.$refs.card.offsetWidth;
                        this.height = this.$refs.card.offsetHeight;
                    },
                    props: ['dataImage'],
                    data: () => ({
                        width: 0,
                        height: 0,
                        mouseX: 0,
                        mouseY: 0,
                        mouseLeaveDelay: null
                    }),
                    computed: {
                        mousePX() {
                            return this.mouseX / this.width;
                        },
                        mousePY() {
                            return this.mouseY / this.height;
                        },
                        cardStyle() {
                            const rX = this.mousePX * 30;
                            const rY = this.mousePY * -30;
                            return {
                                transform: `rotateY(${rX}deg) rotateX(${rY}deg)`
                            };
                        },
                        cardBgTransform() {
                            const tX = this.mousePX * -40;
                            const tY = this.mousePY * -40;
                            return {
                                transform: `translateX(${tX}px) translateY(${tY}px)`
                            }
                        },
                        cardBgImage() {
                            return {
                                backgroundImage: `url(${this.dataImage})`
                            }
                        }
                    },
                    methods: {
                        handleMouseMove(e) {
                            this.mouseX = e.pageX - this.$refs.card.offsetLeft - this.width/2;
                            this.mouseY = e.pageY - this.$refs.card.offsetTop - this.height/2;
                        },
                        handleMouseEnter() {
                            clearTimeout(this.mouseLeaveDelay);
                        },
                        handleMouseLeave() {
                            this.mouseLeaveDelay = setTimeout(() => {
                                this.mouseX = 0;
                                this.mouseY = 0;
                            }, 1000);
                        }
                    }
                });

                const app = new Vue({
                    el: '#app'
                });
            </script>
        {% endblock %}
    </body>
</html>